export async function getRandomCommitMessage(newTracks, liveCount, githubRepo, githubToken) {
	const messages = [
		`ğŸµ Update Spotify data [skip ci]`,
		`ğŸ§ Sync music activity [skip ci]`,
		`âœ¨ Fresh Spotify update [skip ci]`,
		`ğŸ“Š Update listening data [skip ci]`,
		`ğŸ¶ Sync tracks and live status [skip ci]`,
		`ğŸ’¿ Spotify sync complete [skip ci]`,
		`ğŸ”„ Music data refresh [skip ci]`,
		`ğŸ“» Update play history and status [skip ci]`,
		`ğŸ¼ Sync Spotify activity [skip ci]`,
		`ğŸ’« Latest music update [skip ci]`,
		`ğŸ¸ Rocking the playlist updates [skip ci]`,
		`ğŸ¹ Harmonizing the data sync [skip ci]`,
		`ğŸ¥ Drumroll... music updated! [skip ci]`,
		`ğŸº Trumpeting new listening data [skip ci]`,
		`ğŸ» Fine-tuning the track history [skip ci]`,
		`ğŸ¤ Dropping fresh beats data [skip ci]`,
		`ğŸ· Jazzing up the music log [skip ci]`,
		`ğŸª• Strumming through updates [skip ci]`,
		`ğŸª˜ Beating the sync drum [skip ci]`,
		`ğŸ¼ Composing new data entries [skip ci]`,
		`ğŸŒŸ Vibing with latest tracks [skip ci]`,
		`ğŸš€ Launching music updates [skip ci]`,
		`âš¡ Lightning-fast sync complete [skip ci]`,
		`ğŸŒˆ Rainbow of musical updates [skip ci]`,
		`ğŸ”¥ Hot tracks coming through [skip ci]`,
		`ğŸ’ Polishing the music data [skip ci]`,
		`ğŸŒ™ Moonlight serenade sync [skip ci]`,
		`â˜€ï¸ Sunshine music update [skip ci]`,
		`ğŸ¯ Bulls-eye track sync [skip ci]`,
		`ğŸ¨ Painting with sound data [skip ci]`,
		`â­ Stellar music sync [skip ci]`,
		`ğŸ’¥ Boom! Data updated [skip ci]`,
		`ğŸŒŠ Riding the music wave [skip ci]`,
		`ğŸ€ Lucky sync complete [skip ci]`,
		`ğŸ­ Encore! Data refreshed [skip ci]`,
		`ğŸŒº Blooming with new tracks [skip ci]`,
		`ğŸ¦‹ Transforming music data [skip ci]`,
		`ğŸŒ¸ Spring cleaning the playlist [skip ci]`,
		`ğŸ‚ Autumn leaves, fresh beats [skip ci]`,
		`â„ï¸ Cool tracks incoming [skip ci]`,
		`ğŸŒ» Sunflower sync success [skip ci]`,
		`ğŸ Wind chimes of data [skip ci]`,
		`ğŸª Cosmic music alignment [skip ci]`,
		`ğŸŒ  Shooting star sync [skip ci]`,
		`ğŸ† Fireworks of fresh data [skip ci]`,
		`â° Timely music refresh [skip ci]`,
		`ğŸ• Hourly beats update [skip ci]`,
		`ğŸ“… Daily rhythm sync [skip ci]`,
		`â³ Time flies, tracks sync [skip ci]`,
		`âŒš Clockwork music update [skip ci]`,
		`ğŸ•°ï¸ Vintage sync complete [skip ci]`,
		`â±ï¸ Stopwatch: sync done [skip ci]`,
		`ğŸ¤– Bot updating musical database [skip ci]`,
		`ğŸ’» Compiling fresh playlists [skip ci]`,
		`ğŸ”§ Maintaining the groove [skip ci]`,
		`âš™ï¸ Automated music pipeline [skip ci]`,
		`ğŸ“¡ Broadcasting latest jams [skip ci]`,
		`ğŸ–¥ï¸ Digital music refresh [skip ci]`,
		`ğŸ’¾ Saving musical memories [skip ci]`,
		`ğŸ”Œ Plugged into new beats [skip ci]`,
		`ğŸ“± Mobile sync complete [skip ci]`,
		`âŒ¨ï¸ Typing up new tracks [skip ci]`,
		`ğŸ–±ï¸ Clicking through updates [skip ci]`,
		`ğŸª The music show goes on [skip ci]`,
		`ğŸ¢ Rollercoaster of tunes updated [skip ci]`,
		`ğŸ­ Drama-free data sync [skip ci]`,
		`ğŸ¬ Action! Music rolling [skip ci]`,
		`ğŸ® Level up: tracks synced [skip ci]`,
		`ğŸ† Trophy unlocked: sync complete [skip ci]`,
		`ğŸ‰ Celebrating new beats [skip ci]`,
		`ğŸŠ Party time: data updated [skip ci]`,
		`ğŸˆ Floating with new music [skip ci]`,
		`ğŸ Gift of fresh tracks [skip ci]`,
		`ğŸ€ Wrapped up nicely [skip ci]`,
		`ğŸ‚ Sweet music updates [skip ci]`,
		`ğŸ• Slice of fresh data [skip ci]`,
		`ğŸ” Burger of beats served [skip ci]`,
		`ğŸ¿ Popcorn-worthy sync [skip ci]`,
		`â˜• Coffee break sync [skip ci]`,
		`ğŸµ Tea time music update [skip ci]`,
		`ğŸ¥¤ Refreshing data drink [skip ci]`,
		`ğŸŒ® Taco Tuesday tracks [skip ci]`,
		`ğŸœ Noodle through updates [skip ci]`,
		`ğŸ° Cake walk sync [skip ci]`,
		`ğŸš— Cruising through updates [skip ci]`,
		`âœˆï¸ Flying high with new tracks [skip ci]`,
		`ğŸš‚ All aboard the music train [skip ci]`,
		`ğŸš Helicopter view of data [skip ci]`,
		`ğŸ›¸ UFO spotted: new tracks [skip ci]`,
		`ğŸƒ Running sync complete [skip ci]`,
		`ğŸš´ Cycling through updates [skip ci]`,
		`ğŸŠ Swimming in new music [skip ci]`,
		`â›·ï¸ Skiing down the playlist [skip ci]`,
		`ğŸ„ Surfing the sound waves [skip ci]`,
		`ğŸ§˜ Zen mode: sync complete [skip ci]`,
		`ğŸ’ª Flexing with fresh data [skip ci]`,
		`ğŸ¯ Target acquired: synced [skip ci]`,
		`ğŸ² Rolling the music dice [skip ci]`,
		`ğŸƒ Wild card: new tracks [skip ci]`,
		`ğŸ° Jackpot! Data updated [skip ci]`,
		`ğŸ€ Slam dunk sync [skip ci]`,
		`âš½ Goal! Music updated [skip ci]`,
		`ğŸ¾ Ace! Sync complete [skip ci]`,
		`ğŸ Spike the data [skip ci]`,
		`ğŸˆ Touchdown! Tracks synced [skip ci]`,
		`âš¾ Home run update [skip ci]`,
		`ğŸ¥Š Knockout sync [skip ci]`,
		`ğŸ£ Caught fresh tracks [skip ci]`,
		`ğŸŒ Global music update [skip ci]`,
		`ğŸ—ºï¸ Mapping new sounds [skip ci]`,
		`ğŸ§­ Navigating through beats [skip ci]`,
		`ğŸ”ï¸ Peak performance sync [skip ci]`,
		`ğŸ–ï¸ Beach vibes updated [skip ci]`,
		`ğŸï¸ Island of new tracks [skip ci]`,
		`ğŸŒ‹ Erupting with music [skip ci]`,
		`ğŸœï¸ Desert oasis sync [skip ci]`,
		`ğŸŒ² Forest of fresh beats [skip ci]`,
		`ğŸŒ´ Palm tree paradise update [skip ci]`,
		`ğŸ¦ Roaring with new music [skip ci]`,
		`ğŸ¯ Tiger sync complete [skip ci]`,
		`ğŸ» Bear hug for data [skip ci]`,
		`ğŸ¦Š Foxy fresh tracks [skip ci]`,
		`ğŸº Wolf pack sync [skip ci]`,
		`ğŸ¦… Eagle eye update [skip ci]`,
		`ğŸ¦‰ Wise owl sync [skip ci]`,
		`ğŸ¬ Dolphin dive into music [skip ci]`,
		`ğŸ¦ˆ Shark attack: new tracks [skip ci]`,
		`ğŸ™ Octopus arms of data [skip ci]`,
		`ğŸ¦‘ Squid ink sync [skip ci]`,
		`ğŸ³ Whale of a sync [skip ci]`,
		`ğŸ¦‹ Butterfly effect update [skip ci]`,
		`ğŸ Buzzing with new beats [skip ci]`,
		`ğŸ Ladybug luck sync [skip ci]`,
		`ğŸ¦— Cricket chirp update [skip ci]`,
		`ğŸ•·ï¸ Spider web of tracks [skip ci]`,
		`ğŸ¦‚ Scorpion sting sync [skip ci]`,
		`ğŸŒ¹ Rose-tinted music [skip ci]`,
		`ğŸŒ· Tulip fresh data [skip ci]`,
		`ğŸŒ¼ Daisy chain sync [skip ci]`,
		`ğŸŒ» Sunflower power update [skip ci]`,
		`ğŸŒº Hibiscus harmony [skip ci]`,
		`ğŸŒ¸ Cherry blossom sync [skip ci]`,
		`ğŸµï¸ Rosette of tracks [skip ci]`,
		`ğŸ’ Bouquet of beats [skip ci]`,
		`ğŸ€ Four-leaf clover luck [skip ci]`,
		`ğŸ Maple leaf music [skip ci]`,
		`ğŸ‚ Falling for new tracks [skip ci]`,
		`ğŸƒ Leaf through updates [skip ci]`,
		`ğŸŒ¿ Herb garden sync [skip ci]`,
		`â˜˜ï¸ Shamrock shuffle [skip ci]`,
		`ğŸ‹ Bamboo beats [skip ci]`,
		`ğŸ Pine fresh sync [skip ci]`,
		`ğŸŒ¾ Wheat field waves [skip ci]`,
		`ğŸŒ± Seedling of sound [skip ci]`,
		`ğŸŒ³ Tree of music [skip ci]`,
		`ğŸŒ² Evergreen sync [skip ci]`,
		`ğŸŒµ Cactus cool update [skip ci]`,
		`ğŸƒ Pumpkin spice sync [skip ci]`,
		`ğŸ‡ Grape expectations [skip ci]`,
		`ğŸ‰ Watermelon fresh [skip ci]`,
		`ğŸŠ Orange you glad [skip ci]`,
		`ğŸ‹ Lemon zest sync [skip ci]`,
		`ğŸŒ Banana split update [skip ci]`,
		`ğŸ Pineapple paradise [skip ci]`,
		`ğŸ¥­ Mango tango sync [skip ci]`,
		`ğŸ Apple of my eye [skip ci]`,
		`ğŸ Green apple fresh [skip ci]`,
		`ğŸ Pear-fect sync [skip ci]`,
		`ğŸ‘ Peachy keen update [skip ci]`,
		`ğŸ’ Cherry on top [skip ci]`,
		`ğŸ“ Strawberry fields [skip ci]`,
		`ğŸ¥ Kiwi cool sync [skip ci]`,
		`ğŸ… Tomato time [skip ci]`,
		`ğŸ¥¥ Coconut vibes [skip ci]`,
		`ğŸ¥‘ Avocado toast sync [skip ci]`
	];

	if (newTracks > 0) {
		messages.push(
			`ğŸµ Add ${newTracks} new track${newTracks !== 1 ? 's' : ''} [skip ci]`,
			`ğŸ“ ${newTracks} track${newTracks !== 1 ? 's' : ''} added to history [skip ci]`,
			`ğŸ§ Logged ${newTracks} new track${newTracks !== 1 ? 's' : ''} [skip ci]`,
			`âœ… ${newTracks} fresh track${newTracks !== 1 ? 's' : ''} recorded [skip ci]`,
			`ğŸ†• ${newTracks} track${newTracks !== 1 ? 's' : ''} joined the party [skip ci]`,
			`ğŸ“¥ Downloaded ${newTracks} track${newTracks !== 1 ? 's' : ''} to history [skip ci]`,
			`ğŸŒŠ Wave of ${newTracks} new track${newTracks !== 1 ? 's' : ''} [skip ci]`,
			`ğŸ’ ${newTracks} musical gift${newTracks !== 1 ? 's' : ''} received [skip ci]`
		);
	}

	if (liveCount > 0) {
		messages.push(
			`ğŸ”´ ${liveCount} user${liveCount !== 1 ? 's' : ''} listening now [skip ci]`,
			`â–¶ï¸ Live: ${liveCount} active listener${liveCount !== 1 ? 's' : ''} [skip ci]`,
			`ğŸ§ ${liveCount} vibe${liveCount !== 1 ? 's' : ''} in progress [skip ci]`,
			`ğŸ”Š ${liveCount} soul${liveCount !== 1 ? 's' : ''} tuned in [skip ci]`,
			`ğŸ¶ ${liveCount} melody maker${liveCount !== 1 ? 's' : ''} online [skip ci]`,
			`ğŸ‘‚ ${liveCount} ear${liveCount !== 1 ? 's' : ''} on the music [skip ci]`
		);
	}

	let lastCommits = [];
	try {
		const github = await import('../services/github.js');
		const { content } = await github.getGitHubFile(githubRepo, 'last-commits.json', githubToken);
		if (content && Array.isArray(content)) {
			lastCommits = content;
		}
	} catch (error) {
		console.log('No last-commits.json found, starting fresh');
	}

	let selectedMessage;
	let attempts = 0;
	const maxAttempts = 50;

	do {
		const randomIndex = Math.floor(Math.random() * messages.length);
		selectedMessage = messages[randomIndex];
		attempts++;
	} while (lastCommits.includes(selectedMessage) && attempts < maxAttempts);

	lastCommits.unshift(selectedMessage);
	if (lastCommits.length > 50) {
		lastCommits = lastCommits.slice(0, 50);
	}

	return { message: selectedMessage, updatedCommits: lastCommits };
}
